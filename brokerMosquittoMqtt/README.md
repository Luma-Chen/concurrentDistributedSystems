# Comunicação entre protocolo MQTT e broker Mosquitto

O padrão de troca de mensagens no protocolo MQTT é o publish/subscriber (publicador/subscritor). Nesse padrão, quando um elemento da rede deseja receber uma determinada informação, ele a subscreve, fazendo uma requisição para um outro elemento da rede capaz de gerir as publicações e subscrições. No MQTT, esse elemento é chamado de broker, o intermediário no processo de comunicação. Elementos que desejam publicar informações fazem também através do broker, enviando a ele as informações que possuem. 

Nesse trabalho, implementei duas threads que atuam como processos de comunicação publish/subscribe com os tópicos temperatura e umidade. Enquanto uma thread subscrevia um tópico, a outra o publicava e da mesma forma funcionava o outro tópico. Em resumo, ambas as threads, primeiro criam um objeto cliente, que representa o protocolo MQTT, em seguida, realizam o subscribe em um dos tópicos, se comunicam ao broker MQTT pelo host e pela porta e publicam a mensagem do outro tópico no terminal. Ao final, podemos perceber as mensagens trocadas entre os processos através dos screenshots do terminal e do prompt de comando, que executa o broker mosquitto.
