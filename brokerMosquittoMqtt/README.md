# Comunicação entre protocolo MQTT e broker Mosquitto

O padrão de troca de mensagens no protocolo MQTT é o publish/subscriber (publicador/subscritor). Nesse padrão, quando um elemento da rede deseja receber uma determinada informação, ele a subscreve, fazendo uma requisição para um outro elemento da rede capaz de gerir as publicações e subscrições. No MQTT, esse elemento é chamado de broker, o intermediário no processo de comunicação. Elementos que desejam publicar informações fazem também através do broker, enviando a ele as informações que possuem. 

Nesse trabalho, implementei duas threads que atuam como processos de comunicação publish/subscribe com os tópicos temperatura e umidade. Enquanto uma thread subscrevia um tópico, a outra o publicava e da mesma forma funcionava o outro tópico. Em resumo, ambas as threads, primeiro criavam um objeto cliente, que representava o protocolo MQTT, em seguida, davam o subscribe em um dos tópicos, depois uma nova mensagem do tópico é gerada e se cominucavam ao broker MQTT. Ao final, podemos perceber as mensagens trocadas entre eles pelos screenshots do terminal e do prompt de comando, que executa o broker mosquitto.